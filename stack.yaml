# For advanced use and comprehensive documentation of the format, please see:
# http://docs.haskellstack.org/en/stable/yaml_configuration/

resolver: lts-10.10

packages:
- '.'
- location:
    git: https://github.com/haskell-graphql/graphql-api.git
    commit: f06c7af1bc0c9e475f88e47448218373eb9686b6
  extra-dep: true
- location:
    git: https://github.com/thoughtbot/yesod-auth-oauth2.git
    commit: 66b9b6410e92dfd4b41b5e91ff10d8cb98908b24
  extra-dep: true
- location:
    git: https://github.com/jwiegley/gitlib.git
    commit: 60d053ca4035f0010c945a30ddd337af2e913a29
  subdirs:
    - gitlib-libgit2
  extra-dep: true

extra-deps: []

flags: {}

extra-package-dbs: []

extra-include-dirs:
- /usr/local/opt/icu4c/include
extra-lib-dirs:
- /usr/local/opt/icu4c/lib

docker:
  enable: false
  mount:
    - '/data/src/pi-base/server/env/dev:/app/env'
    - '/data/src/pi-base/data:/data'
    - '/data/src/pi-base/gitlib:/data/src/pi-base/gitlib'
    - '/data/src/pi-base/graphql-api:/data/src/pi-base/graphql-api'

image:
  container:
    base: 'pibase/base:latest'
    name: 'pibase/server'
    add:
      config: /app/config
      static: /app/static
    executables:
      - 'pi-base-server'
